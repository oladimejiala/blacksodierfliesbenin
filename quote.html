<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Request Quote | AMTECH Farms Benin</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary: #28a745;
            --dark: #2c3e50;
            --light: #f8f9fa;
        }

        body {
            font-family: 'Segoe UI', system-ui, sans-serif;
            background-color: #f5f7fa;
            color: #333;
        }

        .quote-header {
            background: linear-gradient(135deg, var(--primary), var(--dark));
            color: white;
            padding: 3rem 0;
            border-radius: 0 0 20px 20px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
        }

        .quote-container {
            max-width: 1200px;
            margin: -50px auto 50px;
            background: white;
            border-radius: 15px;
            box-shadow: 0 5px 25px rgba(0, 0, 0, 0.08);
            overflow: hidden;
        }

        .quote-item {
            padding: 1.5rem;
            border-bottom: 1px solid #eee;
            transition: all 0.3s ease;
        }

        .quote-item:hover {
            background-color: #f9f9f9;
        }

        .product-thumb {
            width: 80px;
            height: 80px;
            object-fit: cover;
            border-radius: 8px;
            border: 2px solid #eee;
        }

        .quantity-control {
            display: inline-flex;
            align-items: center;
            border: 1px solid #ddd;
            border-radius: 50px;
            overflow: hidden;
        }

        .quantity-btn {
            width: 35px;
            height: 35px;
            background: #f1f1f1;
            border: none;
            font-size: 1.1rem;
            cursor: pointer;
            transition: all 0.2s;
        }

        .quantity-btn:hover {
            background: #e0e0e0;
        }

        .quantity-value {
            width: 40px;
            text-align: center;
            font-weight: 600;
        }

        .remove-item {
            transition: all 0.3s;
        }

        .remove-item:hover {
            transform: scale(1.05);
        }

        .customer-info-section {
            background: var(--light);
            padding: 2rem;
        }

        .form-control:focus {
            border-color: var(--primary);
            box-shadow: 0 0 0 0.25rem rgba(40, 167, 69, 0.25);
        }

        .btn-primary {
            background-color: var(--primary);
            border: none;
            padding: 12px 30px;
            font-weight: 600;
            letter-spacing: 0.5px;
        }

        .btn-primary:hover {
            background-color: #218838;
        }

        .total-box {
            background: var(--dark);
            color: white;
            padding: 1.5rem;
            border-radius: 10px;
        }

        @media (max-width: 768px) {
            .quote-header {
                padding: 2rem 0;
            }

            .quote-item {
                flex-direction: column;
                text-align: center;
            }

            .product-thumb {
                margin-bottom: 1rem;
            }
        }
    </style>
</head>

<body>
    <!-- Header -->
    <header class="quote-header text-center">
        <div class="container">
            <h1 class="display-5 fw-bold mb-3"><i class="fas fa-file-invoice-dollar me-2"></i>Your Quote Request</h1>
            <p class="lead">Review your selected products and submit your inquiry</p>
        </div>
    </header>

    <!-- Main Quote Container -->
    <div class="quote-container">
        <!-- Product List Section -->
        <div class="p-4">
            <h2 class="h4 mb-4"><i class="fas fa-shopping-basket me-2"></i>Selected Products</h2>

            <div id="quoteItems" class="mb-4">
                <!-- Dynamic content will be inserted here by JavaScript -->
                 <script src="/js/dynamic-content1.js"></script>

            </div>

            <div class="d-flex justify-content-end">
                <div class="total-box text-center">
                    <h3 class="h5 mb-2">Total Estimated Value</h3>
                    <div class="display-6 fw-bold" id="quoteTotal">0 CFA</div>
                    <small class="text-white-50">Prices may vary based on quantity and market conditions</small>
                </div>
            </div>
        </div>

        <!-- Customer Information Section -->
        <div class="customer-info-section">
            <h2 class="h4 mb-4"><i class="fas fa-user-circle me-2"></i>Your Information</h2>

            <form id="customerInfoForm">
                <div class="row g-3">
                    <div class="col-md-6">
                        <label for="fullName" class="form-label">Full Name*</label>
                        <input type="text" class="form-control" id="fullName" required>
                    </div>
                    <div class="col-md-6">
                        <label for="company" class="form-label">Company Name</label>
                        <input type="text" class="form-control" id="company">
                    </div>
                    <div class="col-md-6">
                        <label for="email" class="form-label">Email Address*</label>
                        <input type="email" class="form-control" id="email" required>
                    </div>
                    <div class="col-md-6">
                        <label for="phone" class="form-label">Phone/WhatsApp*</label>
                        <input type="tel" class="form-control" id="phone" required>
                    </div>
                    <div class="col-12">
                        <label for="address" class="form-label">Full Address*</label>
                        <textarea class="form-control" id="address" rows="2" required></textarea>
                    </div>
                    <div class="col-md-4">
                        <label for="country" class="form-label">Country*</label>
                        <input type="text" class="form-control" id="country" required>
                    </div>
                    <div class="col-md-4">
                        <label for="state" class="form-label">State/Province*</label>
                        <input type="text" class="form-control" id="state" required>
                    </div>
                    <div class="col-md-4">
                        <label for="city" class="form-label">City*</label>
                        <input type="text" class="form-control" id="city" required>
                    </div>
                    <div class="col-12">
                        <label for="notes" class="form-label">Additional Notes</label>
                        <textarea class="form-control" id="notes" rows="3"
                            placeholder="Special requests, delivery preferences, etc."></textarea>
                    </div>
                    <div class="col-12 mt-4">
                        <button type="submit" id="submitQuote" class="btn btn-primary btn-lg w-100 py-3">
                            <i class="fas fa-paper-plane me-2"></i> Submit Quote Request
                        </button>
                    </div>
                </div>
            </form>
        </div>
    </div>

    <!-- Trust Badges Section -->
    <div class="container my-5 text-center">
        <div class="row g-4">
            <div class="col-md-4">
                <div class="p-3 border rounded-3 h-100">
                    <i class="fas fa-shield-alt fa-3x text-primary mb-3"></i>
                    <h3 class="h5">Secure Processing</h3>
                    <p class="mb-0">Your information is always protected</p>
                </div>
            </div>
            <div class="col-md-4">
                <div class="p-3 border rounded-3 h-100">
                    <i class="fas fa-headset fa-3x text-primary mb-3"></i>
                    <h3 class="h5">Dedicated Support</h3>
                    <p class="mb-0">We'll contact you within 24 hours</p>
                </div>
            </div>
            <div class="col-md-4">
                <div class="p-3 border rounded-3 h-100">
                    <i class="fas fa-truck fa-3x text-primary mb-3"></i>
                    <h3 class="h5">Flexible Delivery</h3>
                    <p class="mb-0">Nationwide shipping available</p>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        // Sample cart data - in production this would come from your cart system
        const cartItems = [
            {
                id: 'bsf001',
                name: 'Black Soldier Fly Larvae (Live)',
                price: 560,
                image: 'img/bsf-larvae.jpg',
                quantity: 1
            },
            {
                id: 'pkc002',
                name: 'Palm Kernel Cake (50kg)',
                price: 12500,
                image: 'img/palm-kernel-cake.jpg',
                quantity: 2
            }
        ];

        document.addEventListener('DOMContentLoaded', function () {
            if (!cartItems.length) {
                window.location.href = '/products.html';
            }

            renderQuoteItems();
            setupEventListeners();
            updateTotal();
        });

        function renderQuoteItems() {
            const quoteItemsHTML = cartItems.map(item => `
                <div class="quote-item d-flex flex-wrap align-items-center" data-id="${item.id}">
                    <div class="flex-shrink-0 me-3">
                        <img src="${item.image}" alt="${item.name}" class="product-thumb">
                    </div>
                    <div class="flex-grow-1 me-3">
                        <h3 class="h6 mb-1">${item.name}</h3>
                        <div class="text-primary fw-bold">${item.price.toLocaleString()} CFA/unit</div>
                    </div>
                    <div class="d-flex align-items-center me-3">
                        <div class="quantity-control me-3">
                            <button class="quantity-btn decrease-qty">-</button>
                            <span class="quantity-value">${item.quantity}</span>
                            <button class="quantity-btn increase-qty">+</button>
                        </div>
                        <div class="fw-bold">${(item.price * item.quantity).toLocaleString()} CFA</div>
                    </div>
                    <button class="remove-item btn btn-outline-danger btn-sm">
                        <i class="fas fa-trash-alt"></i>
                    </button>
                </div>
            `).join('');

            document.getElementById('quoteItems').innerHTML = quoteItemsHTML;
        }

        function setupEventListeners() {
            // Quantity controls
            document.querySelectorAll('.increase-qty').forEach(btn => {
                btn.addEventListener('click', function () {
                    const itemId = this.closest('.quote-item').dataset.id;
                    const item = cartItems.find(i => i.id === itemId);
                    item.quantity++;
                    this.previousElementSibling.textContent = item.quantity;
                    updateTotal();
                });
            });

            document.querySelectorAll('.decrease-qty').forEach(btn => {
                btn.addEventListener('click', function () {
                    const itemId = this.closest('.quote-item').dataset.id;
                    const item = cartItems.find(i => i.id === itemId);
                    if (item.quantity > 1) {
                        item.quantity--;
                        this.nextElementSibling.textContent = item.quantity;
                        updateTotal();
                    }
                });
            });

            // Remove items
            document.querySelectorAll('.remove-item').forEach(btn => {
                btn.addEventListener('click', function () {
                    const itemElement = this.closest('.quote-item');
                    const itemId = itemElement.dataset.id;
                    const index = cartItems.findIndex(i => i.id === itemId);
                    cartItems.splice(index, 1);
                    itemElement.remove();
                    updateTotal();

                    if (!cartItems.length) {
                        window.location.href = '/products.html';
                    }
                });
            });

            // Form submission
            document.getElementById('customerInfoForm').addEventListener('submit', function (e) {
                e.preventDefault();
                submitQuoteRequest();
            });
        }

        function updateTotal() {
            const total = cartItems.reduce((sum, item) => sum + (item.price * item.quantity), 0);
            document.getElementById('quoteTotal').textContent = total.toLocaleString() + ' CFA';
        }

        function submitQuoteRequest() {
            const customerData = {
                name: document.getElementById('fullName').value,
                company: document.getElementById('company').value,
                email: document.getElementById('email').value,
                phone: document.getElementById('phone').value,
                address: document.getElementById('address').value,
                country: document.getElementById('country').value,
                state: document.getElementById('state').value,
                city: document.getElementById('city').value,
                notes: document.getElementById('notes').value,
                timestamp: new Date().toISOString()
            };

            const quoteData = {
                customer: customerData,
                items: cartItems,
                total: cartItems.reduce((sum, item) => sum + (item.price * item.quantity), 0),
                status: 'pending'
            };

            // In production: Send to your backend
            console.log('Submitting quote:', quoteData);

            // Simulate API call
            document.getElementById('submitQuote').disabled = true;
            document.getElementById('submitQuote').innerHTML = '<i class="fas fa-spinner fa-spin me-2"></i> Processing...';

            setTimeout(() => {
                alert('Thank you! Your quote request #QT' + Math.floor(Math.random() * 10000) + ' has been submitted.\nOur team will contact you within 24 hours.');
                window.location.href = '/thank-you.html';
            }, 2000);
        }
    </script>
</body>

</html>